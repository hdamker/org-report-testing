name: Generate CAMARA Project Reports

on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Ultra Basic Test
        run: |
          echo "✅ Workflow started successfully"
          echo "📅 Time: $(date)"
          echo "🔧 Testing basic functionality"

      - name: Test GitHub Script
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.CAMARA_TOKEN || secrets.GITHUB_TOKEN }}
          script: |
            console.log('✅ GitHub Script working');
            console.log('📝 Testing API access...');
            
            const response = await github.rest.repos.listForOrg({
              org: 'camaraproject',
              per_page: 1
            });
            
            console.log(`✅ Found ${response.data.length} repositories`);
            console.log(`✅ API access confirmed`);

      - name: Final Test
        run: echo "🎉 Ultra minimal workflow completed successfully"