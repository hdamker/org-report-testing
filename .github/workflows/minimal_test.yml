name: Generate CAMARA Project Reports

on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Ultra Basic Test
        run: |
          echo "âœ… Workflow started successfully"
          echo "ğŸ“… Time: $(date)"
          echo "ğŸ”§ Testing basic functionality"

      - name: Test GitHub Script
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.CAMARA_TOKEN || secrets.GITHUB_TOKEN }}
          script: |
            console.log('âœ… GitHub Script working');
            console.log('ğŸ“ Testing API access...');
            
            const response = await github.rest.repos.listForOrg({
              org: 'camaraproject',
              per_page: 1
            });
            
            console.log(`âœ… Found ${response.data.length} repositories`);
            console.log(`âœ… API access confirmed`);

      - name: Final Test
        run: echo "ğŸ‰ Ultra minimal workflow completed successfully"